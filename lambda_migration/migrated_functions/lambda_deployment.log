======================================
Lambda Function Deployment
Account: 534150427458
Region: us-west-2
======================================

Checking IAM role...
Creating IAM role...
{
    "Role": {
        "Path": "/",
        "RoleName": "groundtruth-lambda-execution-role",
        "RoleId": "AROAXYXOYWNBKJ7IIRXVU",
        "Arn": "arn:aws:iam::534150427458:role/groundtruth-lambda-execution-role",
        "CreateDate": "2025-10-30T07:23:34Z",
        "AssumeRolePolicyDocument": {
            "Version": "2012-10-17",
            "Statement": [
                {
                    "Effect": "Allow",
                    "Principal": {
                        "Service": "lambda.amazonaws.com"
                    },
                    "Action": "sts:AssumeRole"
                }
            ]
        }
    }
}
Waiting 10 seconds for role to propagate...

======================================
Deploying: market-data-fetcher
======================================
{
    "FunctionName": "market-data-fetcher",
    "FunctionArn": "arn:aws:lambda:us-west-2:534150427458:function:market-data-fetcher",
    "Runtime": "python3.12",
    "Role": "arn:aws:iam::534150427458:role/groundtruth-lambda-execution-role",
    "Handler": "app.lambda_handler",
    "CodeSize": 51559983,
    "Description": "",
    "Timeout": 60,
    "MemorySize": 128,
    "LastModified": "2025-10-30T07:23:55.324+0000",
    "CodeSha256": "/gYfDfqdlJFmPi7WNVphQBRrxk8X+BXw/h2InC0TpWg=",
    "Version": "$LATEST",
    "TracingConfig": {
        "Mode": "PassThrough"
    },
    "RevisionId": "135563f7-2617-44fb-8ceb-20a7c750b7e0",
    "State": "Pending",
    "StateReason": "The function is being created.",
    "StateReasonCode": "Creating",
    "PackageType": "Zip",
    "Architectures": [
        "arm64"
    ],
    "EphemeralStorage": {
        "Size": 512
    },
    "SnapStart": {
        "ApplyOn": "None",
        "OptimizationStatus": "Off"
    },
    "RuntimeVersionConfig": {
        "RuntimeVersionArn": "arn:aws:lambda:us-west-2::runtime:3989905fa9934b6f382504ae96e8888341c49abaa90cf4686d6e80180e30bb0d"
    },
    "LoggingConfig": {
        "LogFormat": "Text",
        "LogGroup": "/aws/lambda/market-data-fetcher"
    }
}
Waiting for function to be active...
✓ market-data-fetcher deployed successfully

======================================
Deploying: weather-data-fetcher
======================================
{
    "FunctionName": "weather-data-fetcher",
    "FunctionArn": "arn:aws:lambda:us-west-2:534150427458:function:weather-data-fetcher",
    "Runtime": "python3.12",
    "Role": "arn:aws:iam::534150427458:role/groundtruth-lambda-execution-role",
    "Handler": "app.lambda_handler",
    "CodeSize": 51564180,
    "Description": "",
    "Timeout": 60,
    "MemorySize": 512,
    "LastModified": "2025-10-30T07:24:09.519+0000",
    "CodeSha256": "sTxPV9XF4midAvVlJ2AsG6ZKKwdkiCBYnJl4ac+3YAg=",
    "Version": "$LATEST",
    "TracingConfig": {
        "Mode": "PassThrough"
    },
    "RevisionId": "4c93a810-9e41-4eda-baf7-8b027ce110a0",
    "State": "Pending",
    "StateReason": "The function is being created.",
    "StateReasonCode": "Creating",
    "PackageType": "Zip",
    "Architectures": [
        "arm64"
    ],
    "EphemeralStorage": {
        "Size": 512
    },
    "SnapStart": {
        "ApplyOn": "None",
        "OptimizationStatus": "Off"
    },
    "RuntimeVersionConfig": {
        "RuntimeVersionArn": "arn:aws:lambda:us-west-2::runtime:3989905fa9934b6f382504ae96e8888341c49abaa90cf4686d6e80180e30bb0d"
    },
    "LoggingConfig": {
        "LogFormat": "Text",
        "LogGroup": "/aws/lambda/weather-data-fetcher"
    }
}
Waiting for function to be active...
{
    "FunctionName": "weather-data-fetcher",
    "FunctionArn": "arn:aws:lambda:us-west-2:534150427458:function:weather-data-fetcher",
    "Runtime": "python3.12",
    "Role": "arn:aws:iam::534150427458:role/groundtruth-lambda-execution-role",
    "Handler": "app.lambda_handler",
    "CodeSize": 51564180,
    "Description": "",
    "Timeout": 60,
    "MemorySize": 512,
    "LastModified": "2025-10-30T07:24:17.000+0000",
    "CodeSha256": "sTxPV9XF4midAvVlJ2AsG6ZKKwdkiCBYnJl4ac+3YAg=",
    "Version": "$LATEST",
    "Environment": {
        "Variables": {
            "OPENWEATHER_API_KEY": "c7d0e1449305a2f2b1da6eacdd6d4607",
            "S3_BUCKET_NAME": "groundtruth-capstone"
        }
    },
    "TracingConfig": {
        "Mode": "PassThrough"
    },
    "RevisionId": "9d6f86e5-5d8a-4640-a44d-14658b834c10",
    "State": "Active",
    "LastUpdateStatus": "InProgress",
    "LastUpdateStatusReason": "The function is being created.",
    "LastUpdateStatusReasonCode": "Creating",
    "PackageType": "Zip",
    "Architectures": [
        "arm64"
    ],
    "EphemeralStorage": {
        "Size": 512
    },
    "SnapStart": {
        "ApplyOn": "None",
        "OptimizationStatus": "Off"
    },
    "RuntimeVersionConfig": {
        "RuntimeVersionArn": "arn:aws:lambda:us-west-2::runtime:3989905fa9934b6f382504ae96e8888341c49abaa90cf4686d6e80180e30bb0d"
    },
    "LoggingConfig": {
        "LogFormat": "Text",
        "LogGroup": "/aws/lambda/weather-data-fetcher"
    }
}
Waiting for update to complete...
✓ weather-data-fetcher deployed successfully

======================================
Deploying: vix-data-fetcher
======================================
{
    "FunctionName": "vix-data-fetcher",
    "FunctionArn": "arn:aws:lambda:us-west-2:534150427458:function:vix-data-fetcher",
    "Runtime": "python3.12",
    "Role": "arn:aws:iam::534150427458:role/groundtruth-lambda-execution-role",
    "Handler": "app.lambda_handler",
    "CodeSize": 51572039,
    "Description": "",
    "Timeout": 300,
    "MemorySize": 128,
    "LastModified": "2025-10-30T07:24:31.334+0000",
    "CodeSha256": "AyDysp6IwKL/gc3j0XEujxvFnxVvFalVUqOO2f/fiYg=",
    "Version": "$LATEST",
    "TracingConfig": {
        "Mode": "PassThrough"
    },
    "RevisionId": "67593727-65ad-4bba-99fa-57b5d9d6ad02",
    "State": "Pending",
    "StateReason": "The function is being created.",
    "StateReasonCode": "Creating",
    "PackageType": "Zip",
    "Architectures": [
        "arm64"
    ],
    "EphemeralStorage": {
        "Size": 512
    },
    "SnapStart": {
        "ApplyOn": "None",
        "OptimizationStatus": "Off"
    },
    "RuntimeVersionConfig": {
        "RuntimeVersionArn": "arn:aws:lambda:us-west-2::runtime:3989905fa9934b6f382504ae96e8888341c49abaa90cf4686d6e80180e30bb0d"
    },
    "LoggingConfig": {
        "LogFormat": "Text",
        "LogGroup": "/aws/lambda/vix-data-fetcher"
    }
}
Waiting for function to be active...
{
    "FunctionName": "vix-data-fetcher",
    "FunctionArn": "arn:aws:lambda:us-west-2:534150427458:function:vix-data-fetcher",
    "Runtime": "python3.12",
    "Role": "arn:aws:iam::534150427458:role/groundtruth-lambda-execution-role",
    "Handler": "app.lambda_handler",
    "CodeSize": 51572039,
    "Description": "",
    "Timeout": 300,
    "MemorySize": 128,
    "LastModified": "2025-10-30T07:24:39.000+0000",
    "CodeSha256": "AyDysp6IwKL/gc3j0XEujxvFnxVvFalVUqOO2f/fiYg=",
    "Version": "$LATEST",
    "Environment": {
        "Variables": {
            "FRED_API_KEY": "23e399e854cd920b8c34172dbb9c9f7b",
            "S3_BUCKET_NAME": "groundtruth-capstone",
            "RUN_MODE": "INCREMENTAL"
        }
    },
    "TracingConfig": {
        "Mode": "PassThrough"
    },
    "RevisionId": "43b307ad-5790-4470-ad4c-1e4b3fe32227",
    "State": "Active",
    "LastUpdateStatus": "InProgress",
    "LastUpdateStatusReason": "The function is being created.",
    "LastUpdateStatusReasonCode": "Creating",
    "PackageType": "Zip",
    "Architectures": [
        "arm64"
    ],
    "EphemeralStorage": {
        "Size": 512
    },
    "SnapStart": {
        "ApplyOn": "None",
        "OptimizationStatus": "Off"
    },
    "RuntimeVersionConfig": {
        "RuntimeVersionArn": "arn:aws:lambda:us-west-2::runtime:3989905fa9934b6f382504ae96e8888341c49abaa90cf4686d6e80180e30bb0d"
    },
    "LoggingConfig": {
        "LogFormat": "Text",
        "LogGroup": "/aws/lambda/vix-data-fetcher"
    }
}
Waiting for update to complete...
✓ vix-data-fetcher deployed successfully

======================================
Deploying: fx-calculator-fetcher
======================================
{
    "FunctionName": "fx-calculator-fetcher",
    "FunctionArn": "arn:aws:lambda:us-west-2:534150427458:function:fx-calculator-fetcher",
    "Runtime": "python3.12",
    "Role": "arn:aws:iam::534150427458:role/groundtruth-lambda-execution-role",
    "Handler": "app.lambda_handler",
    "CodeSize": 51573528,
    "Description": "",
    "Timeout": 300,
    "MemorySize": 128,
    "LastModified": "2025-10-30T07:24:52.164+0000",
    "CodeSha256": "rttDw9TaB8XMW2Utn33oiktl0eCMOH05+PG/SdH2rNU=",
    "Version": "$LATEST",
    "TracingConfig": {
        "Mode": "PassThrough"
    },
    "RevisionId": "3471d5d8-6d6d-41b2-8b2e-c1f35b55354a",
    "State": "Pending",
    "StateReason": "The function is being created.",
    "StateReasonCode": "Creating",
    "PackageType": "Zip",
    "Architectures": [
        "arm64"
    ],
    "EphemeralStorage": {
        "Size": 512
    },
    "SnapStart": {
        "ApplyOn": "None",
        "OptimizationStatus": "Off"
    },
    "RuntimeVersionConfig": {
        "RuntimeVersionArn": "arn:aws:lambda:us-west-2::runtime:3989905fa9934b6f382504ae96e8888341c49abaa90cf4686d6e80180e30bb0d"
    },
    "LoggingConfig": {
        "LogFormat": "Text",
        "LogGroup": "/aws/lambda/fx-calculator-fetcher"
    }
}
Waiting for function to be active...
{
    "FunctionName": "fx-calculator-fetcher",
    "FunctionArn": "arn:aws:lambda:us-west-2:534150427458:function:fx-calculator-fetcher",
    "Runtime": "python3.12",
    "Role": "arn:aws:iam::534150427458:role/groundtruth-lambda-execution-role",
    "Handler": "app.lambda_handler",
    "CodeSize": 51573528,
    "Description": "",
    "Timeout": 300,
    "MemorySize": 128,
    "LastModified": "2025-10-30T07:25:00.000+0000",
    "CodeSha256": "rttDw9TaB8XMW2Utn33oiktl0eCMOH05+PG/SdH2rNU=",
    "Version": "$LATEST",
    "Environment": {
        "Variables": {
            "FRED_API_KEY": "23e399e854cd920b8c34172dbb9c9f7b",
            "S3_BUCKET_NAME": "groundtruth-capstone",
            "RUN_MODE": "INCREMENTAL"
        }
    },
    "TracingConfig": {
        "Mode": "PassThrough"
    },
    "RevisionId": "c7e92aa6-22b5-4ca7-9574-99e9391b1e86",
    "State": "Active",
    "LastUpdateStatus": "InProgress",
    "LastUpdateStatusReason": "The function is being created.",
    "LastUpdateStatusReasonCode": "Creating",
    "PackageType": "Zip",
    "Architectures": [
        "arm64"
    ],
    "EphemeralStorage": {
        "Size": 512
    },
    "SnapStart": {
        "ApplyOn": "None",
        "OptimizationStatus": "Off"
    },
    "RuntimeVersionConfig": {
        "RuntimeVersionArn": "arn:aws:lambda:us-west-2::runtime:3989905fa9934b6f382504ae96e8888341c49abaa90cf4686d6e80180e30bb0d"
    },
    "LoggingConfig": {
        "LogFormat": "Text",
        "LogGroup": "/aws/lambda/fx-calculator-fetcher"
    }
}
Waiting for update to complete...
✓ fx-calculator-fetcher deployed successfully

======================================
Deploying: cftc-data-fetcher
======================================
{
    "FunctionName": "cftc-data-fetcher",
    "FunctionArn": "arn:aws:lambda:us-west-2:534150427458:function:cftc-data-fetcher",
    "Runtime": "python3.12",
    "Role": "arn:aws:iam::534150427458:role/groundtruth-lambda-execution-role",
    "Handler": "app.lambda_handler",
    "CodeSize": 42287169,
    "Description": "",
    "Timeout": 300,
    "MemorySize": 128,
    "LastModified": "2025-10-30T07:25:12.280+0000",
    "CodeSha256": "vZANvpdPG7vAppY5mPxBnr0laVnzXnvRvcquE5pGw64=",
    "Version": "$LATEST",
    "TracingConfig": {
        "Mode": "PassThrough"
    },
    "RevisionId": "a086e309-c4e4-4c1e-9712-1db118f1ef9f",
    "State": "Pending",
    "StateReason": "The function is being created.",
    "StateReasonCode": "Creating",
    "PackageType": "Zip",
    "Architectures": [
        "arm64"
    ],
    "EphemeralStorage": {
        "Size": 512
    },
    "SnapStart": {
        "ApplyOn": "None",
        "OptimizationStatus": "Off"
    },
    "RuntimeVersionConfig": {
        "RuntimeVersionArn": "arn:aws:lambda:us-west-2::runtime:3989905fa9934b6f382504ae96e8888341c49abaa90cf4686d6e80180e30bb0d"
    },
    "LoggingConfig": {
        "LogFormat": "Text",
        "LogGroup": "/aws/lambda/cftc-data-fetcher"
    }
}
Waiting for function to be active...
{
    "FunctionName": "cftc-data-fetcher",
    "FunctionArn": "arn:aws:lambda:us-west-2:534150427458:function:cftc-data-fetcher",
    "Runtime": "python3.12",
    "Role": "arn:aws:iam::534150427458:role/groundtruth-lambda-execution-role",
    "Handler": "app.lambda_handler",
    "CodeSize": 42287169,
    "Description": "",
    "Timeout": 300,
    "MemorySize": 128,
    "LastModified": "2025-10-30T07:25:20.000+0000",
    "CodeSha256": "vZANvpdPG7vAppY5mPxBnr0laVnzXnvRvcquE5pGw64=",
    "Version": "$LATEST",
    "Environment": {
        "Variables": {
            "S3_KEY_PREFIX": "landing/cftc_data/",
            "S3_BUCKET_NAME": "groundtruth-capstone"
        }
    },
    "TracingConfig": {
        "Mode": "PassThrough"
    },
    "RevisionId": "39dd8356-e32d-473c-b64d-b3d89e6bca14",
    "State": "Active",
    "LastUpdateStatus": "InProgress",
    "LastUpdateStatusReason": "The function is being created.",
    "LastUpdateStatusReasonCode": "Creating",
    "PackageType": "Zip",
    "Architectures": [
        "arm64"
    ],
    "EphemeralStorage": {
        "Size": 512
    },
    "SnapStart": {
        "ApplyOn": "None",
        "OptimizationStatus": "Off"
    },
    "RuntimeVersionConfig": {
        "RuntimeVersionArn": "arn:aws:lambda:us-west-2::runtime:3989905fa9934b6f382504ae96e8888341c49abaa90cf4686d6e80180e30bb0d"
    },
    "LoggingConfig": {
        "LogFormat": "Text",
        "LogGroup": "/aws/lambda/cftc-data-fetcher"
    }
}
Waiting for update to complete...
✓ cftc-data-fetcher deployed successfully

======================================
Deploying: gdelt-processor
======================================
{
    "FunctionName": "gdelt-processor",
    "FunctionArn": "arn:aws:lambda:us-west-2:534150427458:function:gdelt-processor",
    "Runtime": "python3.11",
    "Role": "arn:aws:iam::534150427458:role/groundtruth-lambda-execution-role",
    "Handler": "lambda_function.lambda_handler",
    "CodeSize": 4039,
    "Description": "",
    "Timeout": 900,
    "MemorySize": 2048,
    "LastModified": "2025-10-30T07:25:24.054+0000",
    "CodeSha256": "tjnLBT2f41I/aCSAK09xD8YXdXJ9y1kgaxPasp2JmjY=",
    "Version": "$LATEST",
    "TracingConfig": {
        "Mode": "PassThrough"
    },
    "RevisionId": "e4341744-3dee-4417-95aa-27765514f735",
    "State": "Pending",
    "StateReason": "The function is being created.",
    "StateReasonCode": "Creating",
    "PackageType": "Zip",
    "Architectures": [
        "x86_64"
    ],
    "EphemeralStorage": {
        "Size": 512
    },
    "SnapStart": {
        "ApplyOn": "None",
        "OptimizationStatus": "Off"
    },
    "RuntimeVersionConfig": {
        "RuntimeVersionArn": "arn:aws:lambda:us-west-2::runtime:6c687d1ae05d783a82cd99c5896c1baddfe1daf7ac4068082fb989401de8b287"
    },
    "LoggingConfig": {
        "LogFormat": "Text",
        "LogGroup": "/aws/lambda/gdelt-processor"
    }
}
Waiting for function to be active...
{
    "FunctionName": "gdelt-processor",
    "FunctionArn": "arn:aws:lambda:us-west-2:534150427458:function:gdelt-processor",
    "Runtime": "python3.11",
    "Role": "arn:aws:iam::534150427458:role/groundtruth-lambda-execution-role",
    "Handler": "lambda_function.lambda_handler",
    "CodeSize": 4039,
    "Description": "",
    "Timeout": 900,
    "MemorySize": 2048,
    "LastModified": "2025-10-30T07:25:31.000+0000",
    "CodeSha256": "tjnLBT2f41I/aCSAK09xD8YXdXJ9y1kgaxPasp2JmjY=",
    "Version": "$LATEST",
    "Environment": {
        "Variables": {
            "S3_BUCKET": "groundtruth-capstone",
            "S3_RAW_PREFIX": "landing/gdelt/raw/",
            "TRACKING_TABLE": "groundtruth-capstone-file-tracking",
            "S3_FILTERED_PREFIX": "landing/gdelt/filtered/"
        }
    },
    "TracingConfig": {
        "Mode": "PassThrough"
    },
    "RevisionId": "d4265fab-802e-416c-a1e2-eb7cb2625dcb",
    "State": "Active",
    "LastUpdateStatus": "InProgress",
    "LastUpdateStatusReason": "The function is being created.",
    "LastUpdateStatusReasonCode": "Creating",
    "PackageType": "Zip",
    "Architectures": [
        "x86_64"
    ],
    "EphemeralStorage": {
        "Size": 512
    },
    "SnapStart": {
        "ApplyOn": "None",
        "OptimizationStatus": "Off"
    },
    "RuntimeVersionConfig": {
        "RuntimeVersionArn": "arn:aws:lambda:us-west-2::runtime:6c687d1ae05d783a82cd99c5896c1baddfe1daf7ac4068082fb989401de8b287"
    },
    "LoggingConfig": {
        "LogFormat": "Text",
        "LogGroup": "/aws/lambda/gdelt-processor"
    }
}
Waiting for update to complete...
✓ gdelt-processor deployed successfully

======================================
Deployment Complete!
======================================

Next steps:
1. Set up EventBridge schedule for gdelt-processor
2. Test each function with: aws lambda invoke --function-name <name> --region us-west-2 response.json
3. Check CloudWatch logs for any errors
